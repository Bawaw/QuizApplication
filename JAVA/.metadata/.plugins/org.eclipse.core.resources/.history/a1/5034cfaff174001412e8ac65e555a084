package domain;

import java.util.ArrayList;
import java.util.Map.Entry;

public abstract class Evaluation {
	ArrayList<Entry<Exercise, Answer>> exercises;
	int indexCurrentExercise;
	int timeAllowed;
	int amountOfQuestions;

	public Evaluation(ArrayList<Entry<Exercise, Answer>> exercises,
			int amountOfQuestions) {
		setExercises(exercises);
		setIndexCurrentExercise(0);
		setTimeAllowed(0); // time allowed = sum of all times?
		setAmountOfQuestions(amountOfQuestions);
	}
	
	public boolean hasNextQuestion(){
		return (indexCurrentExercise + 1 <= exercises.size());
	}

	public boolean hasPreviousQuestion(){
		return (indexCurrentExercise - 1 >= 0);
	} 
	
	public Exercise getNextExercise(){
		if(!hasNextQuestion())
			throw new DomainException("Out of bound");
		indexCurrentExercise++;
		return getExercises().get(indexCurrentExercise);
	}
	
	public Exercise getPreviousExercise(){
		if(!hasNextQuestion())
			throw new DomainException("Out of bound");
		indexCurrentExercise++;
		return getExercises().get(indexCurrentExercise);
	}
	
	public int getAmountOfQuestions() {
		return amountOfQuestions;
	}

	public void setAmountOfQuestions(int amountOfQuestions) {
		this.amountOfQuestions = amountOfQuestions;
	}

	public ArrayList<Entry<Exercise, Answer>> getExercises() {
		return exercises;
	}

	private void setExercises(ArrayList<Entry<Exercise, Answer>> exercises) {
		this.exercises = exercises;
	}

	public int getIndexCurrentExercise() {
		return indexCurrentExercise;
	}

	private void setIndexCurrentExercise(int indexCurrentExercise) {
		this.indexCurrentExercise = indexCurrentExercise;
	}

	public int getTimeAllowed() {
		return timeAllowed;
	}

	public void setTimeAllowed(int timeAllowed) {
		this.timeAllowed = timeAllowed;
	}

}
