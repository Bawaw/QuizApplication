package controller;

import java.awt.event.ActionEvent;
import java.util.ArrayList;

import view.panels.CategoryDetailPanel;
import domain.DomainException;
import domain.FacadeActionManager;

public class AddFeedbackAction extends AbstractTestAction {

	private CategoryDetailPanel categoryDetailPanel;
	
	public AddFeedbackAction(FacadeActionManager service) {
		super(service);
		// TODO Auto-generated constructor stub
	}

	public AddFeedbackAction(FacadeActionManager service, String caption) {
		super(service, caption);
		// TODO Auto-generated constructor stub
	}

	@Override
	public void actionPerformed(ActionEvent e) {
		try {
			String newFeedbak = getCategoryDetailPanel().getNewFeedbackFieldText();
			getService().addFeedback(newFeedbak);
			getCategoryDetailPanel().setFeedbacks(new ArrayList(getService().getFeedbackPool().getAllStandardFeedbacks()));
		} catch (DomainException e1) {
			e1.printStackTrace();
		}
	}

	public CategoryDetailPanel getCategoryDetailPanel() {
		return categoryDetailPanel;
	}

	public void setCategoryDetailPanel(CategoryDetailPanel categoryFeedbackPanel) {
		this.categoryDetailPanel = categoryFeedbackPanel;
	}
	
	
}
