package config;

import java.io.FileOutputStream;
import java.io.IOException;
import java.util.Properties;

public class InitConfigHandler {
	private Properties table;
	private final String defaultPath="init.dat";
	private final int defaultEvaluationSize = 5;
	private final String defaultScoreBehaviour = "MaxScoreCalculator";
	private final String defaultQuestionSelectionbehaviour = "RandomQuestions";
	
	
	
	public InitConfigHandler() {
		this.setTable(new Properties());
	}

	
	
	public Properties getTable() {
		return table;
	}

	private void setTable(Properties table) {
		this.table = table;
	}
	
	
	public String getScoreBehaviour(){
		
	}

	public void saveScoreBehaviour(String scoreBehaviour) throws ConfigException{
		try{
			FileOutputStream out = new FileOutputStream(defaultPath);
			this.getTable().setProperty("scoreBehaviour", scoreBehaviour);
			this.getTable().store(out,"Admin Settings");
			out.close();
		}
		catch (IOException ex){
			throw new ConfigException(ex);
			}
	}
	
	public String getQuestionSelectionBehaviour(){
		
	}
	
	public void saveQuestionSelectionBehaviour(String questionSelectionBehaviour) throws ConfigException{
		try{
			FileOutputStream out = new FileOutputStream(defaultPath);
			this.getTable().setProperty("questionBehaviour", questionSelectionBehaviour);
			this.getTable().store(out,"Admin Settings");
			out.close();
		}
		catch (IOException ex){
			throw new ConfigException(ex);
			}
	}
	
	public int getDefaultEvaluationSize(){
		return 0;
	}
	
	public void saveDefaultEvaluationSize(int size){
		try{
			FileOutputStream out = new FileOutputStream(defaultPath);
			this.getTable().setProperty("evaluationSize", size);
			this.getTable().store(out,"Admin Settings");
			out.close();
		}
		catch (IOException ex){
			throw new ConfigException(ex);
			}
	}
}
